@import '../themes/variables';

// Theme Dropdown Component
// Extracted from original Header.scss lines 1519-1800 (~280 lines)
.theme-dropdown {
  position: relative;

  &__trigger {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    background: var(--theme-dropdown-bg);
    border: 1px solid var(--theme-dropdown-border);
    border-radius: 6px;
    cursor: pointer;
    font-family: $font-secondary;
    font-size: 14px;
    font-weight: $font-medium;
    color: var(--theme-text-secondary);
    transition: all 0.2s ease;

    &:hover {
      border-color: var(--theme-interactive-primary);
      background: var(--theme-interactive-focus);
    }

    &:focus {
      outline: none;
      border-color: var(--theme-interactive-primary);
      box-shadow: 0 0 0 2px var(--theme-interactive-focus);
    }

    // Award-winning Citrus Grove theme dropdown trigger
    .theme-citrus-grove & {
      background: linear-gradient(135deg, var(--theme-bg-elevated), var(--theme-emerald-primary));
      border: 1px solid var(--theme-emerald-secondary);
      color: var(--theme-text-emerald);
      box-shadow: var(--theme-shadow-emerald);

      &:hover {
        border-color: var(--theme-interactive-primary);
        background: linear-gradient(135deg, var(--theme-emerald-primary), var(--theme-bg-elevated));
        box-shadow: var(--theme-shadow-citrus), 0 0 10px var(--theme-emerald-glow);
        color: var(--theme-interactive-primary);
      }

      &:focus {
        border-color: var(--theme-interactive-primary);
        box-shadow: 0 0 0 2px var(--theme-citrus-glow), var(--theme-shadow-emerald);
      }
    }

    // Neumorphism theme dropdown trigger
    .theme-neumorphism & {
      background: var(--theme-bg-primary);
      border: none;
      color: var(--theme-text-secondary);
      box-shadow: var(--theme-neomorphic-button);
      border-radius: 8px;

      &:hover {
        color: var(--theme-interactive-primary);
      }
    }

    // Neumorphism Dark theme dropdown trigger
    .theme-neumorphism-dark & {
      background: var(--theme-bg-primary);
      border: none;
      color: var(--theme-text-secondary);
      box-shadow: var(--theme-neomorphic-button);
      border-radius: 8px;

      &:hover {
        color: var(--theme-interactive-primary);
      }
    }
  }

  &__text {
    white-space: nowrap;
  }

  &__menu {
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background: var(--theme-dropdown-bg);
    border: 1px solid var(--theme-dropdown-border);
    border-radius: 8px;
    box-shadow: 0 10px 38px -10px rgba(22, 23, 24, 0.35), 
                0 10px 20px -15px rgba(22, 23, 24, 0.2);
    padding: 8px;
    min-width: 200px;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.2s ease;

    &--open {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    // Theme-specific menu styling
    .theme-citrus-grove & {
      background: var(--theme-dropdown-bg);
      border: 1px solid var(--theme-emerald-secondary);
      box-shadow: var(--theme-shadow-emerald), 0 0 20px var(--theme-emerald-glow);
    }

    .theme-neumorphism & {
      background: var(--theme-dropdown-bg);
      border: none;
      box-shadow: var(--theme-neomorphic-raised);
    }

    .theme-neumorphism-dark & {
      background: var(--theme-dropdown-bg);
      border: none;
      box-shadow: var(--theme-neomorphic-raised);
    }

    .theme-electric-dark & {
      background: var(--theme-dropdown-bg);
      border: 1px solid var(--theme-border-secondary);
      box-shadow: 0 10px 38px -10px rgba(0, 0, 0, 0.5),
                  0 0 30px var(--theme-glow-cyan);
    }

    .theme-modern-dark & {
      background: var(--theme-dropdown-bg);
      border: 1px solid var(--theme-border-secondary);
      box-shadow: 0 10px 38px -10px rgba(0, 0, 0, 0.4),
                  0 0 25px var(--theme-data-glow);
    }
  }

  &__item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    color: var(--theme-text-primary);
    font-size: 14px;
    font-weight: $font-medium;
    transition: all 0.15s ease;
    user-select: none;

    &:hover {
      background: var(--theme-chat-item-hover);
      color: var(--theme-interactive-primary);
    }

    &--active {
      background: var(--theme-interactive-focus);
      color: var(--theme-interactive-primary);
      font-weight: $font-semibold;
    }

    // Theme-specific item styling
    .theme-citrus-grove & {
      &:hover {
        background: var(--theme-emerald-primary);
        color: var(--theme-text-emerald);
        box-shadow: 0 0 5px var(--theme-emerald-glow);
      }

      &--active {
        background: linear-gradient(135deg, var(--theme-emerald-primary), var(--theme-bg-elevated));
        color: var(--theme-interactive-primary);
        box-shadow: 0 0 8px var(--theme-citrus-glow);
      }
    }

    .theme-neumorphism &,
    .theme-neumorphism-dark & {
      &:hover {
        background: var(--theme-gradient-pressed);
        box-shadow: var(--theme-neomorphic-pressed);
      }

      &--active {
        background: var(--theme-gradient-elevated);
        box-shadow: var(--theme-neomorphic-button);
      }
    }

    .theme-electric-dark & {
      &:hover {
        background: var(--theme-chat-item-hover);
        color: var(--theme-interactive-primary);
        box-shadow: 0 0 15px var(--theme-glow-cyan);
      }

      &--active {
        background: linear-gradient(135deg, var(--theme-interactive-focus), var(--theme-bg-tertiary));
        color: var(--theme-interactive-primary);
        box-shadow: 0 0 20px var(--theme-glow-cyan);
      }
    }

    .theme-modern-dark & {
      &:hover {
        background: var(--theme-chat-item-hover);
        color: var(--theme-interactive-primary);
        box-shadow: 0 0 15px var(--theme-data-glow);
      }

      &--active {
        background: linear-gradient(135deg, var(--theme-interactive-focus), var(--theme-bg-tertiary));
        color: var(--theme-interactive-primary);
        box-shadow: 0 0 20px var(--theme-data-glow);
      }
    }
  }

  &__preview {
    width: 20px;
    height: 20px;
    border-radius: 4px;
    border: 1px solid var(--theme-border-light);
    flex-shrink: 0;
    position: relative;
    overflow: hidden;

    // Theme preview backgrounds
    &--light {
      background: linear-gradient(135deg, #ffffff, #f8fafc);
    }

    &--dark {
      background: linear-gradient(135deg, #1e293b, #0f172a);
    }

    &--electric {
      background: linear-gradient(135deg, #0a0a0a, #00ffff);
    }

    &--modern {
      background: linear-gradient(135deg, #1e293b, #0ea5e9);
    }

    &--citrus {
      background: linear-gradient(135deg, #fed7aa, #f97316);
    }

    &--neumorphism {
      background: linear-gradient(135deg, #e2e8f0, #cbd5e1);
    }

    &--web {
      background: linear-gradient(135deg, #dbeafe, #3b82f6);
    }
  }

  &__name {
    flex: 1;
    white-space: nowrap;
    font-weight: $font-medium;
  }

  &__check {
    width: 16px;
    height: 16px;
    color: var(--theme-interactive-primary);
    opacity: 0;
    transition: opacity 0.15s ease;

    .theme-dropdown__item--active & {
      opacity: 1;
    }
  }
}